<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text & Code Difference Checker | Compare Text Online Free ·êÖ</title>
    <meta name="description" content="Free online text difference checker. Compare two texts or code files side by side, find differences instantly with unified and side-by-side diff views. Upload files, copy results, and more.">
    <meta name="keywords" content="online difference checker, compare text online, text comparison tool, code difference tool, find differences between texts, file comparison online, free difference tool, compare files online, text difference checker, difference checker tool">
    <meta name="author" content="Calculations.tools">
    <link rel="canonical" href="https://calculations.tools/compare-text">
    <script src="https://cdn.tailwindcss.com"></script>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculations.tools/compare-text">
    <meta property="og:title" content="Text & Code Difference Checker | Compare Text Online Free ·êÖ">
    <meta property="og:description" content="Free online text difference checker. Compare two texts or code files side by side, find differences instantly with unified and side-by-side diff views.">
    <meta property="og:image" content="https://calculations.tools/open-graph.webp">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://calculations.tools/compare-text">
    <meta property="twitter:title" content="Text & Code Difference Checker | Compare Text Online Free ·êÖ">
    <meta property="twitter:description" content="Free online text difference checker. Compare two texts or code files side by side, find differences instantly.">
    <meta property="twitter:image" content="https://calculations.tools/favicon-512x512.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" href="/base.css">
    <style>
        .diff-wrapper { max-width: 1100px; margin: 0 auto; }
        .editors-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        @media (max-width: 768px) { .editors-grid { grid-template-columns: 1fr; } }
        .editor-panel { display: flex; flex-direction: column; }
        .editor-toolbar { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem; }
        .editor-toolbar h3 { color: white; font-size: 1rem; font-weight: 600; margin: 0; }
        .toolbar-buttons { display: flex; gap: 0.35rem; }
        .toolbar-btn {
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.15);
            color: #cbd5e1; border-radius: 0.375rem; padding: 0.35rem 0.5rem; cursor: pointer;
            font-size: 0.75rem; transition: all 0.2s; display: flex; align-items: center; gap: 0.25rem;
        }
        .toolbar-btn:hover { background: rgba(255,255,255,0.2); color: white; }
        .editor-textarea {
            width: 100%; min-height: 280px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.15);
            border-radius: 0.5rem; color: #e2e8f0; font-family: 'Courier New', monospace; font-size: 0.875rem;
            padding: 0.75rem; resize: vertical; line-height: 1.6;
        }
        .editor-textarea::placeholder { color: #64748b; }
        .editor-textarea:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
        .editor-stats { display: flex; gap: 1rem; margin-top: 0.4rem; font-size: 0.75rem; color: #94a3b8; }
        .action-bar { display: flex; gap: 0.75rem; justify-content: center; margin: 1.25rem 0; flex-wrap: wrap; }
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; border: none;
            padding: 0.75rem 2rem; border-radius: 0.5rem; font-size: 1rem; font-weight: 600;
            cursor: pointer; transition: all 0.2s;
        }
        .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(59,130,246,0.4); }
        .btn-secondary {
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;
            padding: 0.75rem 1.25rem; border-radius: 0.5rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.2); }

        /* Diff output */
        .diff-output { margin-top: 1.5rem; display: none; }
        .diff-output.visible { display: block; }
        .diff-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75rem; flex-wrap: wrap; gap: 0.75rem; }
        .diff-stats { display: flex; gap: 1rem; font-size: 0.875rem; }
        .stat-added { color: #4ade80; }
        .stat-removed { color: #f87171; }
        .stat-unchanged { color: #94a3b8; }
        .diff-view-toggle { display: flex; background: rgba(255,255,255,0.1); border-radius: 0.375rem; overflow: hidden; }
        .diff-view-toggle button {
            background: none; border: none; color: #94a3b8; padding: 0.4rem 0.85rem;
            font-size: 0.8rem; cursor: pointer; transition: all 0.2s;
        }
        .diff-view-toggle button.active { background: rgba(255,255,255,0.2); color: white; }

        .diff-container {
            background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 0.5rem; overflow: auto; max-height: 500px; font-family: 'Courier New', monospace; font-size: 0.8125rem;
        }
        .diff-line { display: flex; line-height: 1.6; min-height: 1.6em; }
        .diff-line-num { min-width: 3rem; text-align: right; padding: 0 0.5rem; color: #64748b; user-select: none; flex-shrink: 0; }
        .diff-line-content { padding: 0 0.75rem; white-space: pre-wrap; word-break: break-all; flex: 1; }
        .diff-line.added { background: rgba(74,222,128,0.1); }
        .diff-line.added .diff-line-content { color: #4ade80; }
        .diff-line.removed { background: rgba(248,113,113,0.1); }
        .diff-line.removed .diff-line-content { color: #f87171; }
        .diff-line.unchanged .diff-line-content { color: #94a3b8; }

        /* Side-by-side */
        .sbs-container { display: grid; grid-template-columns: 1fr 1fr; }
        @media (max-width: 768px) { .sbs-container { grid-template-columns: 1fr; } }
        .sbs-panel { overflow: auto; max-height: 500px; }
        .sbs-panel + .sbs-panel { border-left: 1px solid rgba(255,255,255,0.1); }
        @media (max-width: 768px) { .sbs-panel + .sbs-panel { border-left: none; border-top: 1px solid rgba(255,255,255,0.1); } }

        .no-diff { text-align: center; padding: 2rem; color: #4ade80; font-size: 1.125rem; }

        /* Toast */
        .toast { position: fixed; bottom: 1.5rem; right: 1.5rem; background: #1e293b; border: 1px solid rgba(255,255,255,0.2); color: white; padding: 0.75rem 1.25rem; border-radius: 0.5rem; font-size: 0.875rem; z-index: 1000; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
        .toast.show { opacity: 1; }
    </style>
    <script src="/header.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-700 to-slate-900">
    <div class="container mx-auto px-4 py-8">
        <div class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-4" style="line-height:1.25">
                Text &amp; Code Difference Checker
            </h1>
            <p class="text-lg text-gray-300 max-w-2xl mx-auto">
                Compare two pieces of text or code side by side. Instantly find additions, removals, and changes with color-coded diff output.
            </p>
        </div>

        <div class="diff-wrapper">
            <div class="calculator-container" style="max-width:100%;">
                <!-- Editors -->
                <div class="editors-grid">
                    <!-- Original -->
                    <div class="editor-panel">
                        <div class="editor-toolbar">
                            <h3>Original Text</h3>
                            <div class="toolbar-buttons">
                                <button class="toolbar-btn" onclick="uploadFile('original')" title="Upload file">üìÇ Upload</button>
                                <button class="toolbar-btn" onclick="downloadText('original')" title="Download as .txt">üíæ</button>
                                <button class="toolbar-btn" onclick="copyText('original')" title="Copy to clipboard">üìã</button>
                                <button class="toolbar-btn" onclick="clearText('original')" title="Clear">‚úï</button>
                            </div>
                        </div>
                        <textarea id="original" class="editor-textarea" placeholder="Paste your original text or code here..." spellcheck="false" oninput="updateStats('original')"></textarea>
                        <div class="editor-stats">
                            <span id="original-lines">Lines: 0</span>
                            <span id="original-chars">Characters: 0</span>
                        </div>
                    </div>
                    <!-- Changed -->
                    <div class="editor-panel">
                        <div class="editor-toolbar">
                            <h3>Changed Text</h3>
                            <div class="toolbar-buttons">
                                <button class="toolbar-btn" onclick="uploadFile('changed')" title="Upload file">üìÇ Upload</button>
                                <button class="toolbar-btn" onclick="downloadText('changed')" title="Download as .txt">üíæ</button>
                                <button class="toolbar-btn" onclick="copyText('changed')" title="Copy to clipboard">üìã</button>
                                <button class="toolbar-btn" onclick="clearText('changed')" title="Clear">‚úï</button>
                            </div>
                        </div>
                        <textarea id="changed" class="editor-textarea" placeholder="Paste your changed text or code here..." spellcheck="false" oninput="updateStats('changed')"></textarea>
                        <div class="editor-stats">
                            <span id="changed-lines">Lines: 0</span>
                            <span id="changed-chars">Characters: 0</span>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-bar">
                    <button class="btn-primary" onclick="findDifferences()">üîç Find Differences</button>
                    <button class="btn-secondary" onclick="swapTexts()">‚áÑ Swap</button>
                    <button class="btn-secondary" onclick="loadSample()">üìÑ Sample</button>
                </div>

                <!-- Diff Output -->
                <div id="diff-output" class="diff-output">
                    <div class="diff-header">
                        <div class="diff-stats">
                            <span class="stat-added" id="stat-added">+0 added</span>
                            <span class="stat-removed" id="stat-removed">‚àí0 removed</span>
                            <span class="stat-unchanged" id="stat-unchanged">0 unchanged</span>
                        </div>
                        <div style="display:flex;gap:0.5rem;align-items:center;">
                            <div class="diff-view-toggle">
                                <button id="btn-unified" class="active" onclick="setView('unified')">Unified</button>
                                <button id="btn-sbs" onclick="setView('sbs')">Side-by-Side</button>
                            </div>
                            <button class="toolbar-btn" onclick="copyDiff()" title="Copy diff">üìã Copy Diff</button>
                        </div>
                    </div>
                    <div class="diff-container" id="diff-container"></div>
                </div>
            </div>
        </div>

        <!-- Hidden file input -->
        <input type="file" id="file-input" style="display:none" accept=".txt,.js,.ts,.py,.html,.css,.json,.xml,.md,.csv,.jsx,.tsx,.php,.rb,.go,.java,.c,.cpp,.h,.sql,.yaml,.yml,.sh,.bat,.log,.cfg,.ini,.toml">

        <!-- SEO Content -->
        <div class="seo-container">
            <h2>What Is a Text Difference Checker?</h2>
            <p>A <strong>text difference checker</strong> (also called a diff tool or <strong>online difference checker</strong>) is a utility that compares two blocks of text or code and highlights the differences between them. It identifies which lines have been added, removed, or changed, making it easy to spot modifications at a glance. Whether you're comparing documents, reviewing code changes, or checking revisions, a <strong>text difference checker</strong> saves hours of manual comparison.</p>

            <h2>How to Compare Text Online</h2>
            <p>Using our free <strong>text comparison tool</strong> is simple and takes just a few steps:</p>
            <ol>
                <li><strong>Paste or upload</strong> your original text in the left editor box.</li>
                <li><strong>Paste or upload</strong> the changed version in the right editor box.</li>
                <li>Click the <strong>"Find Differences"</strong> button.</li>
                <li>Review the color-coded results: green for additions, red for removals.</li>
                <li>Toggle between <strong>Unified</strong> and <strong>Side-by-Side</strong> views for different perspectives.</li>
            </ol>
            <p>You can also upload files directly using the upload button on each editor, or use the <strong>Swap</strong> button to reverse the comparison direction.</p>

            <h2>Use Cases for Text Comparison</h2>
            <p>A <strong>text comparison tool</strong> and <strong>code difference tool</strong> are invaluable in many scenarios:</p>

            <h3>Code Review &amp; Development</h3>
            <p>Developers use diff tools daily to review code changes before merging. Compare your working copy against the original to catch bugs, unintended changes, or missing lines. Our <strong>code difference tool</strong> handles any programming language ‚Äî JavaScript, Python, HTML, CSS, SQL, and more.</p>

            <h3>Document Proofreading</h3>
            <p>When editing essays, articles, or reports, compare the original draft with the revised version. Quickly spot what was added, deleted, or reworded without reading both documents line by line.</p>

            <h3>Legal &amp; Contract Review</h3>
            <p>Lawyers and professionals use text comparison to identify changes between contract versions. Even a single word change in a legal document can have significant implications ‚Äî a diff tool ensures nothing is missed.</p>

            <h3>Configuration &amp; Server Files</h3>
            <p>System administrators compare configuration files to find what changed between deployments or server setups. Upload your config files and instantly see every modification.</p>

            <h3>Version Control &amp; Content Management</h3>
            <p>Writers and editors can track changes between article revisions, blog post drafts, or CMS content updates. The diff output clearly shows the evolution of your content over time.</p>

            <h2>How the Diff Algorithm Works</h2>
            <p>Our tool uses a <strong>Longest Common Subsequence (LCS)</strong> algorithm to <strong>find differences between texts</strong>. Here's how it works:</p>
            <ol>
                <li>Both texts are split into individual lines.</li>
                <li>The algorithm builds a matrix comparing every line from the original against every line in the changed version.</li>
                <li>It identifies the longest sequence of matching lines (the "common subsequence").</li>
                <li>Lines not in the common subsequence are classified as either <strong>added</strong> (present only in the changed text) or <strong>removed</strong> (present only in the original).</li>
                <li>Results are rendered with line numbers and color coding for clarity.</li>
            </ol>
            <p>This approach ensures accurate, line-by-line comparison that handles insertions, deletions, and modifications reliably.</p>

            <h2>Comparing Files Online</h2>
            <p>Need to do <strong>file comparison online</strong>? Our tool supports direct file uploads in numerous formats including <code>.txt</code>, <code>.js</code>, <code>.py</code>, <code>.html</code>, <code>.css</code>, <code>.json</code>, <code>.xml</code>, <code>.md</code>, <code>.csv</code>, and many more. Simply click the upload button on either editor panel, select your file, and the contents will be loaded automatically. You can then <strong>compare files online</strong> instantly ‚Äî no software installation required.</p>

            <h2>Why Use Our Free Difference Tool</h2>
            <p>There are many reasons to choose our <strong>free difference tool</strong> over alternatives:</p>
            <ul>
                <li><strong>100% free</strong> ‚Äî No registration, no limits, no premium tiers.</li>
                <li><strong>Privacy-first</strong> ‚Äî All processing happens in your browser. Your text never leaves your device.</li>
                <li><strong>No installation</strong> ‚Äî Works directly in your browser on any device.</li>
                <li><strong>Dual view modes</strong> ‚Äî Switch between Unified and Side-by-Side diff views.</li>
                <li><strong>File support</strong> ‚Äî Upload and download text and code files directly.</li>
                <li><strong>Mobile friendly</strong> ‚Äî Fully responsive design works on phones and tablets.</li>
                <li><strong>Copy &amp; export</strong> ‚Äî Copy diff results to clipboard or download your text.</li>
                <li><strong>Code-ready</strong> ‚Äî Monospace font, line numbers, and syntax-friendly layout for any programming language.</li>
            </ul>
            <p>Our <strong>difference checker tool</strong> is designed for speed, accuracy, and ease of use ‚Äî whether you're a developer, writer, lawyer, or student.</p>

            <h2>Frequently Asked Questions About Text Comparison</h2>

            <h3>What is a difference checker?</h3>
            <p>A difference checker (or diff tool) is a software utility that compares two sets of text or code and identifies what has been added, removed, or changed between them. It displays results with color coding ‚Äî typically green for additions and red for removals ‚Äî making it easy to review changes at a glance.</p>

            <h3>How do I compare two texts online?</h3>
            <p>Paste your original text in the left editor and the changed version in the right editor, then click "Find Differences." The tool will instantly analyze both texts and display the differences with color-coded highlighting. You can also upload files directly.</p>

            <h3>Can I compare code with this tool?</h3>
            <p>Yes. This tool is designed to handle both plain text and source code in any programming language. The monospace font, line numbers, and line-by-line comparison make it ideal for code review in JavaScript, Python, HTML, CSS, PHP, Java, C#, SQL, and more.</p>

            <h3>Is this text comparison tool free?</h3>
            <p>Yes, completely free. There are no usage limits, no premium features locked behind a paywall, and no registration required. Use it as much as you need.</p>

            <h3>How does the diff algorithm work?</h3>
            <p>Our tool uses a Longest Common Subsequence (LCS) algorithm. It splits both inputs into lines, then computes the longest sequence of matching lines. Any lines not in this common sequence are marked as additions or removals, giving you an accurate line-by-line diff.</p>

            <h3>Can I upload files to compare?</h3>
            <p>Yes. Click the upload button (üìÇ) on either editor panel to select a file from your device. Supported formats include .txt, .js, .py, .html, .css, .json, .xml, .md, .csv, and many other text-based file types.</p>

            <h3>What file formats are supported?</h3>
            <p>The tool supports any text-based file format including plain text (.txt), source code files (.js, .ts, .py, .html, .css, .php, .java, .go, .rb, .c, .cpp), data files (.json, .xml, .csv, .yaml), config files (.ini, .toml, .cfg), markdown (.md), SQL files, shell scripts, and more.</p>

            <h3>Is my data private when using this tool?</h3>
            <p>Absolutely. All text processing happens entirely in your browser using JavaScript. Your text is never sent to any server, never stored, and never shared. Your data stays on your device at all times.</p>

            <h3>Can I download the comparison results?</h3>
            <p>You can copy the diff output to your clipboard using the "Copy Diff" button. You can also download the original or changed text as .txt files using the download button on each editor panel.</p>

            <h3>What is the maximum text length supported?</h3>
            <p>There is no hard limit. The tool runs in your browser, so it can handle texts of any reasonable length. Very large files (over 100,000 lines) may take a moment to process depending on your device's performance.</p>

            <h3>What is a unified diff vs side-by-side diff?</h3>
            <p>A <strong>unified diff</strong> shows all changes in a single column with additions and removals interleaved and color-coded. A <strong>side-by-side diff</strong> displays the original and changed text in two parallel columns, making it easy to compare corresponding lines visually. Both views are available in this tool.</p>

            <h3>Can I use this tool on mobile?</h3>
            <p>Yes. The tool is fully responsive. On mobile devices, the two editor panels stack vertically for comfortable use, and all features including file upload, copy, and diff views work perfectly on phones and tablets.</p>
        </div>
    </div>

    <div id="footer-container"></div>
    <div class="toast" id="toast"></div>

    <script>
    // Load footer
    fetch('/footer.html').then(r => r.text()).then(h => document.getElementById('footer-container').innerHTML = h);

    // --- Utility ---
    function showToast(msg) {
        const t = document.getElementById('toast');
        t.textContent = msg; t.classList.add('show');
        setTimeout(() => t.classList.remove('show'), 2000);
    }

    function updateStats(id) {
        const val = document.getElementById(id).value;
        const lines = val ? val.split('\n').length : 0;
        const chars = val.length;
        document.getElementById(id + '-lines').textContent = 'Lines: ' + lines;
        document.getElementById(id + '-chars').textContent = 'Characters: ' + chars;
    }

    // --- Toolbar actions ---
    let currentUploadTarget = null;
    const fileInput = document.getElementById('file-input');

    function uploadFile(id) {
        currentUploadTarget = id;
        fileInput.click();
    }
    fileInput.addEventListener('change', function() {
        if (!this.files[0] || !currentUploadTarget) return;
        const reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById(currentUploadTarget).value = e.target.result;
            updateStats(currentUploadTarget);
            showToast('File loaded successfully');
        };
        reader.readAsText(this.files[0]);
        this.value = '';
    });

    function downloadText(id) {
        const text = document.getElementById(id).value;
        if (!text) { showToast('Nothing to download'); return; }
        const blob = new Blob([text], { type: 'text/plain' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = id + '-text.txt';
        a.click();
        URL.revokeObjectURL(a.href);
    }

    function copyText(id) {
        const text = document.getElementById(id).value;
        if (!text) { showToast('Nothing to copy'); return; }
        navigator.clipboard.writeText(text).then(() => showToast('Copied to clipboard'));
    }

    function clearText(id) {
        document.getElementById(id).value = '';
        updateStats(id);
    }

    function swapTexts() {
        const o = document.getElementById('original');
        const c = document.getElementById('changed');
        const tmp = o.value; o.value = c.value; c.value = tmp;
        updateStats('original'); updateStats('changed');
        showToast('Texts swapped');
    }

    function loadSample() {
        document.getElementById('original').value =
`function greet(name) {
    console.log("Hello, " + name);
    return true;
}

const users = ["Alice", "Bob", "Charlie"];
users.forEach(user => {
    greet(user);
});`;
        document.getElementById('changed').value =
`function greet(name, greeting = "Hello") {
    console.log(greeting + ", " + name + "!");
    return true;
}

const users = ["Alice", "Bob", "Charlie", "Diana"];
users.forEach(user => {
    greet(user, "Hi");
});

console.log("Done!");`;
        updateStats('original');
        updateStats('changed');
        showToast('Sample loaded');
    }

    // --- LCS Diff Algorithm ---
    function computeDiff(a, b) {
        const m = a.length, n = b.length;
        // Build LCS table
        const dp = Array.from({ length: m + 1 }, () => new Array(n + 1).fill(0));
        for (let i = 1; i <= m; i++)
            for (let j = 1; j <= n; j++)
                dp[i][j] = a[i-1] === b[j-1] ? dp[i-1][j-1] + 1 : Math.max(dp[i-1][j], dp[i][j-1]);

        // Backtrack
        const result = [];
        let i = m, j = n;
        while (i > 0 || j > 0) {
            if (i > 0 && j > 0 && a[i-1] === b[j-1]) {
                result.push({ type: 'unchanged', lineOld: i, lineNew: j, text: a[i-1] });
                i--; j--;
            } else if (j > 0 && (i === 0 || dp[i][j-1] >= dp[i-1][j])) {
                result.push({ type: 'added', lineNew: j, text: b[j-1] });
                j--;
            } else {
                result.push({ type: 'removed', lineOld: i, text: a[i-1] });
                i--;
            }
        }
        return result.reverse();
    }

    let lastDiff = [];
    let currentView = 'unified';

    function findDifferences() {
        const a = document.getElementById('original').value.split('\n');
        const b = document.getElementById('changed').value.split('\n');
        lastDiff = computeDiff(a, b);

        const added = lastDiff.filter(d => d.type === 'added').length;
        const removed = lastDiff.filter(d => d.type === 'removed').length;
        const unchanged = lastDiff.filter(d => d.type === 'unchanged').length;

        document.getElementById('stat-added').textContent = '+' + added + ' added';
        document.getElementById('stat-removed').textContent = '‚àí' + removed + ' removed';
        document.getElementById('stat-unchanged').textContent = unchanged + ' unchanged';

        renderDiff();
        document.getElementById('diff-output').classList.add('visible');
        document.getElementById('diff-output').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    function setView(view) {
        currentView = view;
        document.getElementById('btn-unified').classList.toggle('active', view === 'unified');
        document.getElementById('btn-sbs').classList.toggle('active', view === 'sbs');
        renderDiff();
    }

    function renderDiff() {
        const container = document.getElementById('diff-container');
        if (lastDiff.length === 0) { container.innerHTML = '<div class="no-diff">No differences found</div>'; return; }
        if (lastDiff.every(d => d.type === 'unchanged')) { container.innerHTML = '<div class="no-diff">‚úì Texts are identical ‚Äî no differences found</div>'; return; }

        if (currentView === 'unified') renderUnified(container);
        else renderSideBySide(container);
    }

    function renderUnified(container) {
        let html = '';
        for (const d of lastDiff) {
            const cls = d.type;
            const prefix = d.type === 'added' ? '+' : d.type === 'removed' ? '‚àí' : ' ';
            const num = d.type === 'removed' ? (d.lineOld || '') : (d.lineNew || '');
            html += `<div class="diff-line ${cls}"><span class="diff-line-num">${num}</span><span class="diff-line-content">${prefix} ${escapeHtml(d.text)}</span></div>`;
        }
        container.innerHTML = html;
    }

    function renderSideBySide(container) {
        // Build left (original) and right (changed) columns
        let leftHtml = '', rightHtml = '';
        for (const d of lastDiff) {
            if (d.type === 'unchanged') {
                leftHtml += `<div class="diff-line unchanged"><span class="diff-line-num">${d.lineOld}</span><span class="diff-line-content">${escapeHtml(d.text)}</span></div>`;
                rightHtml += `<div class="diff-line unchanged"><span class="diff-line-num">${d.lineNew}</span><span class="diff-line-content">${escapeHtml(d.text)}</span></div>`;
            } else if (d.type === 'removed') {
                leftHtml += `<div class="diff-line removed"><span class="diff-line-num">${d.lineOld}</span><span class="diff-line-content">‚àí ${escapeHtml(d.text)}</span></div>`;
                rightHtml += `<div class="diff-line"><span class="diff-line-num"></span><span class="diff-line-content"></span></div>`;
            } else {
                leftHtml += `<div class="diff-line"><span class="diff-line-num"></span><span class="diff-line-content"></span></div>`;
                rightHtml += `<div class="diff-line added"><span class="diff-line-num">${d.lineNew}</span><span class="diff-line-content">+ ${escapeHtml(d.text)}</span></div>`;
            }
        }
        container.innerHTML = `<div class="sbs-container"><div class="sbs-panel">${leftHtml}</div><div class="sbs-panel">${rightHtml}</div></div>`;
    }

    function escapeHtml(str) {
        return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    }

    function copyDiff() {
        if (!lastDiff.length) return;
        const text = lastDiff.map(d => {
            const prefix = d.type === 'added' ? '+ ' : d.type === 'removed' ? '- ' : '  ';
            return prefix + d.text;
        }).join('\n');
        navigator.clipboard.writeText(text).then(() => showToast('Diff copied to clipboard'));
    }
    </script>

    <script type="application/ld+json">
    [
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Text & Code Difference Checker",
        "description": "Free online text and code difference checker. Compare two texts side by side, find additions and removals with color-coded unified and side-by-side diff views.",
        "url": "https://calculations.tools/compare-text",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
      },
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {"@type":"Question","name":"What is a difference checker?","acceptedAnswer":{"@type":"Answer","text":"A difference checker (or diff tool) is a software utility that compares two sets of text or code and identifies what has been added, removed, or changed between them. It displays results with color coding ‚Äî typically green for additions and red for removals."}},
          {"@type":"Question","name":"How do I compare two texts online?","acceptedAnswer":{"@type":"Answer","text":"Paste your original text in the left editor and the changed version in the right editor, then click 'Find Differences.' The tool will instantly analyze both texts and display the differences with color-coded highlighting."}},
          {"@type":"Question","name":"Can I compare code with this tool?","acceptedAnswer":{"@type":"Answer","text":"Yes. This tool handles both plain text and source code in any programming language. The monospace font, line numbers, and line-by-line comparison make it ideal for code review."}},
          {"@type":"Question","name":"Is this text comparison tool free?","acceptedAnswer":{"@type":"Answer","text":"Yes, completely free. There are no usage limits, no premium features locked behind a paywall, and no registration required."}},
          {"@type":"Question","name":"How does the diff algorithm work?","acceptedAnswer":{"@type":"Answer","text":"The tool uses a Longest Common Subsequence (LCS) algorithm. It splits both inputs into lines, computes the longest sequence of matching lines, and marks any lines not in this common sequence as additions or removals."}},
          {"@type":"Question","name":"Can I upload files to compare?","acceptedAnswer":{"@type":"Answer","text":"Yes. Click the upload button on either editor panel to select a file from your device. Supported formats include .txt, .js, .py, .html, .css, .json, .xml, .md, .csv, and many other text-based file types."}},
          {"@type":"Question","name":"What file formats are supported?","acceptedAnswer":{"@type":"Answer","text":"The tool supports any text-based file format including plain text, source code files, data files (.json, .xml, .csv, .yaml), config files, markdown, SQL files, shell scripts, and more."}},
          {"@type":"Question","name":"Is my data private when using this tool?","acceptedAnswer":{"@type":"Answer","text":"Absolutely. All text processing happens entirely in your browser using JavaScript. Your text is never sent to any server, never stored, and never shared."}},
          {"@type":"Question","name":"Can I download the comparison results?","acceptedAnswer":{"@type":"Answer","text":"You can copy the diff output to your clipboard using the Copy Diff button. You can also download the original or changed text as .txt files using the download button on each editor panel."}},
          {"@type":"Question","name":"What is the maximum text length supported?","acceptedAnswer":{"@type":"Answer","text":"There is no hard limit. The tool runs in your browser, so it can handle texts of any reasonable length. Very large files may take a moment to process depending on your device."}},
          {"@type":"Question","name":"What is a unified diff vs side-by-side diff?","acceptedAnswer":{"@type":"Answer","text":"A unified diff shows all changes in a single column with additions and removals interleaved. A side-by-side diff displays the original and changed text in two parallel columns for visual comparison."}},
          {"@type":"Question","name":"Can I use this tool on mobile?","acceptedAnswer":{"@type":"Answer","text":"Yes. The tool is fully responsive. On mobile devices, the editor panels stack vertically and all features work perfectly on phones and tablets."}}
        ]
      }
    ]
    </script>
</body>
</html>
