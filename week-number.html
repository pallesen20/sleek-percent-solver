<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What Week Number Is It? | Current Week Number 2026 ᐅ</title>
    <meta name="description" content="Instantly see the current week number. View all ISO 8601 week numbers for 2026 with start and end dates. Plus programming routines for Excel, Python, JavaScript, PHP, SQL and more.">
    <meta name="keywords" content="week number, current week number, what week is it, ISO 8601 week, week number 2026, calendar week, week of year">
    <meta name="author" content="Calculations.tools">
    <link rel="canonical" href="https://calculations.tools/week-number">
    <script src="https://cdn.tailwindcss.com"></script>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculations.tools/week-number">
    <meta property="og:title" content="What Week Number Is It? | Current Week Number 2026 ᐅ">
    <meta property="og:description" content="Instantly see the current week number. View all ISO 8601 week numbers for 2026 with start and end dates. Plus programming routines for Excel, Python, JavaScript, PHP, SQL and more.">
    <meta property="og:image" content="https://calculations.tools/open-graph.webp">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://calculations.tools/week-number">
    <meta property="twitter:title" content="What Week Number Is It? | Current Week Number 2026 ᐅ">
    <meta property="twitter:description" content="Instantly see the current week number. View all ISO 8601 week numbers for 2026 with start and end dates.">
    <meta property="twitter:image" content="https://calculations.tools/favicon-512x512.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" href="/base.css">
    <style>
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.3s ease-out;
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 8px rgba(34, 197, 94, 0.6), 0 0 20px rgba(34, 197, 94, 0.3); }
            50% { box-shadow: 0 0 16px rgba(34, 197, 94, 0.8), 0 0 40px rgba(34, 197, 94, 0.5); }
        }
        @keyframes number-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .hover-scale:hover {
            transform: scale(1.02);
            transition: transform 0.2s ease-out;
        }

        /* Hero week display */
        .week-hero {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 1.5rem;
            padding: 3rem 2rem;
            text-align: center;
            max-width: 56rem;
            margin: 0 auto 3rem;
            position: relative;
            overflow: hidden;
        }
        .week-hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
            z-index: 0;
        }
        .week-hero > * { position: relative; z-index: 1; }
        .week-number-display {
            font-size: 7rem;
            font-weight: 800;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
            animation: number-pulse 3s ease-in-out infinite;
        }
        .week-label {
            font-size: 1.1rem;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .week-date-range {
            font-size: 1.15rem;
            color: #cbd5e1;
            margin-top: 1rem;
        }
        .week-progress-bar {
            max-width: 400px;
            margin: 1.5rem auto 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 999px;
            height: 8px;
            overflow: hidden;
        }
        .week-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 999px;
            transition: width 0.5s ease;
        }
        .week-progress-label {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 0.5rem;
        }

        /* Info cards */
        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            max-width: 56rem;
            margin: 0 auto 3rem;
        }
        .info-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 1rem;
            padding: 1.25rem;
            text-align: center;
        }
        .info-card-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: white;
        }
        .info-card-label {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 0.25rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Week table */
        .week-table-container {
            max-width: 56rem;
            margin: 0 auto 3rem;
        }
        .week-table {
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 1rem;
            border-collapse: separate;
            border-spacing: 0;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        .week-table thead {
            background: rgba(0, 0, 0, 0.25);
        }
        .week-table th {
            padding: 1rem 1.5rem;
            text-align: left;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .week-table td {
            padding: 0.7rem 1.5rem;
            color: #cbd5e1;
            font-size: 0.9rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: background-color 0.2s ease;
        }
        .week-table tbody tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        .week-table tbody tr:last-child td {
            border-bottom: none;
        }
        .week-table tbody tr.current-week {
            background: rgba(59, 130, 246, 0.2);
            border-left: 3px solid #3b82f6;
        }
        .week-table tbody tr.current-week td {
            color: white;
            font-weight: 600;
        }
        .current-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            font-size: 0.65rem;
            font-weight: 700;
            padding: 0.15rem 0.5rem;
            border-radius: 999px;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            vertical-align: middle;
        }

        /* Programming routines */
        .code-section {
            max-width: 56rem;
            margin: 0 auto 3rem;
        }
        .code-block-wrapper {
            margin-bottom: 1.5rem;
        }
        .code-block-title {
            font-size: 1rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .code-block-title .lang-badge {
            display: inline-block;
            background: rgba(59, 130, 246, 0.3);
            color: #93c5fd;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 0.15rem 0.5rem;
            border-radius: 0.25rem;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }
        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem;
            padding: 1.25rem;
            font-family: 'Fira Code', 'Cascadia Code', 'JetBrains Mono', 'Courier New', monospace;
            font-size: 0.85rem;
            color: #e2e8f0;
            overflow-x: auto;
            line-height: 1.6;
            position: relative;
        }
        .code-block code {
            color: #93c5fd;
        }
        .code-note {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: #94a3b8;
            font-size: 0.8rem;
            margin-top: 0.5rem;
            line-height: 1.5;
        }
        .code-note code {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.1rem 0.35rem;
            border-radius: 0.25rem;
            font-size: 0.8rem;
            color: #cbd5e1;
        }
        .copy-code-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 0.4rem;
            padding: 0.3rem 0.6rem;
            font-size: 0.7rem;
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .copy-code-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* Live indicator */
        .live-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }
        .live-dot {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse-glow 2s ease-in-out infinite;
        }
        .live-text {
            font-size: 0.8rem;
            color: #94a3b8;
            font-weight: 500;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .week-number-display {
                font-size: 5rem;
            }
            .week-hero {
                padding: 2rem 1.25rem;
            }
            .info-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            .week-table th, .week-table td {
                padding: 0.6rem 0.75rem;
                font-size: 0.8rem;
            }
            .code-block {
                font-size: 0.75rem;
                padding: 1rem;
            }
        }
        @media (max-width: 480px) {
            .week-number-display {
                font-size: 4rem;
            }
            .week-hero {
                padding: 1.5rem 1rem;
                border-radius: 1rem;
            }
            .info-cards {
                grid-template-columns: 1fr 1fr;
                gap: 0.75rem;
            }
            .info-card {
                padding: 1rem;
            }
            .info-card-value {
                font-size: 1.35rem;
            }
            .week-table th, .week-table td {
                padding: 0.5rem;
                font-size: 0.75rem;
            }
            .week-table th:nth-child(1), .week-table td:nth-child(1) {
                width: 60px;
            }
            .current-badge {
                display: none;
            }
        }
    </style>
    <script src="/header.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-700 to-slate-900">
    <div class="container mx-auto px-4 py-8">
        <!-- Page Title -->
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-4" style="line-height: 1.25">
                What Week Number Is It?
            </h1>
            <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                Instantly see the current ISO 8601 week number, with a full calendar of all weeks in the year.
            </p>
        </div>

        <!-- Hero: Current Week Number -->
        <div class="week-hero animate-fade-in">
            <div class="week-label">Current Week Number</div>
            <div class="week-number-display" id="currentWeekNumber">--</div>
            <div class="week-date-range" id="currentWeekRange">Loading...</div>
            <div class="live-indicator">
                <span class="live-dot"></span>
                <span class="live-text">Updates automatically every week</span>
            </div>
            <div class="week-progress-bar">
                <div class="week-progress-fill" id="weekProgress" style="width: 0%"></div>
            </div>
            <div class="week-progress-label" id="weekProgressLabel">Year progress</div>
        </div>

        <!-- Info Cards -->
        <div class="info-cards animate-fade-in">
            <div class="info-card">
                <div class="info-card-value" id="currentDay">--</div>
                <div class="info-card-label">Day of Year</div>
            </div>
            <div class="info-card">
                <div class="info-card-value" id="daysRemaining">--</div>
                <div class="info-card-label">Days Remaining</div>
            </div>
            <div class="info-card">
                <div class="info-card-value" id="currentQuarter">--</div>
                <div class="info-card-label">Quarter</div>
            </div>
            <div class="info-card">
                <div class="info-card-value" id="isLeapYear">--</div>
                <div class="info-card-label">Leap Year</div>
            </div>
        </div>

        <!-- Week Number Table -->
        <div class="week-table-container">
            <div class="glass rounded-lg">
                <div class="p-6">
                    <h2 class="text-2xl text-white text-center font-semibold mb-2">
                        All Week Numbers <span id="tableYear">2026</span>
                    </h2>
                    <p class="text-center text-gray-400 text-sm mb-4">ISO 8601 week numbering · Weeks start on Monday</p>
                </div>
                <div class="p-6 pt-0" style="overflow-x: auto;">
                    <table class="week-table" id="weekTable">
                        <thead>
                            <tr>
                                <th>Week</th>
                                <th>From (Monday)</th>
                                <th>To (Sunday)</th>
                            </tr>
                        </thead>
                        <tbody id="weekTableBody">
                            <!-- Generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Programming Routines -->
        <div class="code-section">
            <div class="glass rounded-lg p-6">
                <h2 class="text-2xl text-white text-center font-semibold mb-2">Programming Routines</h2>
                <p class="text-center text-gray-400 text-sm mb-8">Get the current ISO 8601 week number in your favourite language</p>

                <!-- Excel / LibreOffice -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Excel</span>
                        Microsoft Excel / LibreOffice Calc
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>=ISOWEEKNUM(TODAY())</code>
                    </div>
                    <div class="code-note">
                        Or in older versions: <code>=WEEKNUM(TODAY(),21)</code> where return type <code>21</code> is ISO-8601 (week starting on Monday).<br>
                        In Excel 2007, use <code>WEEKNUM(TODAY(),2)</code> (2 = week starting Monday).<br>
                        <code>WEEKNUM(TODAY())</code> shows the week number with weeks starting on Sunday (return type = 1).
                    </div>
                </div>

                <!-- Google Sheets -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Sheets</span>
                        Google Docs Spreadsheet
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>=WEEKNUM(TODAY();21)</code>
                    </div>
                    <div class="code-note">
                        Type (here <code>21</code>) is compatible with Excel/LibreOffice — 21 is ISO-8601.
                    </div>
                </div>

                <!-- PHP -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">PHP</span>
                        PHP
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>$weekNumber = date("W");</code>
                    </div>
                    <div class="code-note">
                        Or <code>date("W", epoch)</code> for other week numbers. Use capital <code>W</code>, not <code>w</code>.
                    </div>
                </div>

                <!-- Python -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Python</span>
                        Python
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>datetime.date.today().isocalendar()[1]</code>
                    </div>
                </div>

                <!-- Perl -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Perl</span>
                        PERL
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>my $weekNumber = POSIX::strftime("%V", gmtime time);</code>
                    </div>
                    <div class="code-note">
                        Replace <code>time</code> with other epoch/UNIX timestamps for other week numbers.
                    </div>
                </div>

                <!-- Java -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Java</span>
                        Java
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>Calendar now = Calendar.getInstance();
now.get(Calendar.WEEK_OF_YEAR);</code>
                    </div>
                    <div class="code-note">
                        Use <code>WEEK_OF_YEAR</code> in the Calendar class.
                    </div>
                </div>

                <!-- JavaScript -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">JS</span>
                        JavaScript
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>Date.prototype.getWeek = function () {
    var target  = new Date(this.valueOf());
    var dayNr   = (this.getDay() + 6) % 7;
    target.setDate(target.getDate() - dayNr + 3);
    var firstThursday = target.valueOf();
    target.setMonth(0, 1);
    if (target.getDay() != 4) {
        target.setMonth(0, 1 + ((4 - target.getDay()) + 7) % 7);
    }
    return 1 + Math.ceil((firstThursday - target) / 604800000);
}

var d = new Date();
alert(d.getWeek());</code>
                    </div>
                    <div class="code-note">
                        Extend the Date class using the above code.
                    </div>
                </div>

                <!-- C# -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">C#</span>
                        C#
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>CultureInfo.CurrentCulture.Calendar.GetWeekOfYear(
    DateTime.Now,
    CalendarWeekRule.FirstFourDayWeek,
    DayOfWeek.Monday
);</code>
                    </div>
                    <div class="code-note">
                        See the <a href="https://stackoverflow.com/questions/11154673" target="_blank" style="color: #93c5fd;">ISO-8601 update on Stack Overflow</a>.
                    </div>
                </div>

                <!-- MySQL -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">MySQL</span>
                        MySQL
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>SELECT WEEKOFYEAR(NOW())</code>
                    </div>
                    <div class="code-note">
                        Replace <code>NOW()</code> with other dates, e.g. <code>SELECT WEEKOFYEAR('2026-02-20')</code>.<br>
                        You can also use the WEEK function with mode=3: <code>SELECT WEEK(NOW(), 3)</code>.
                    </div>
                </div>

                <!-- PostgreSQL -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">PostgreSQL</span>
                        PostgreSQL
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>SELECT EXTRACT(WEEK FROM CURRENT_DATE)</code>
                    </div>
                </div>

                <!-- MS SQL -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">MS SQL</span>
                        MS SQL Server
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>SELECT DATEPART(wk, GETDATE())</code>
                    </div>
                </div>

                <!-- Oracle -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Oracle</span>
                        Oracle
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>SELECT TO_CHAR(SYSDATE, 'IW') FROM DUAL</code>
                    </div>
                    <div class="code-note">
                        <code>IW</code>: Week of year (1-52 or 1-53) based on ISO-8601.<br>
                        <code>WW</code>: Week of year (1-53) where week 1 starts on the first day of the year (mostly NOT used).
                    </div>
                </div>

                <!-- iSeries SQL -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">iSeries</span>
                        iSeries SQL
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>SELECT WEEK(NOW()) FROM sysibm.sysdummy1</code>
                    </div>
                </div>

                <!-- Objective-C / iPhone/Mac -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Obj-C</span>
                        iPhone / Mac (Objective-C)
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>[NSString stringWithFormat:@"Week %d",
  [calendar ordinalityOfUnit:NSWeekCalendarUnit
                      inUnit:NSYearCalendarUnit
                     forDate:date]];</code>
                    </div>
                </div>

                <!-- Swift -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Swift</span>
                        iPhone / iOS / Swift
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>let gregorian = NSCalendar(calendarIdentifier:
    NSCalendarIdentifierGregorian)!
gregorian.firstWeekday = 2 // Monday
gregorian.minimumDaysInFirstWeek = 4
let components = gregorian.components(
    .WeekOfYearCalendarUnit | .YearForWeekOfYearCalendarUnit,
    fromDate: date)
let week = components.weekOfYear
let year = components.yearForWeekOfYear</code>
                    </div>
                </div>

                <!-- R -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">R</span>
                        R
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>lubridate::week()</code>
                    </div>
                </div>

                <!-- Ruby -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Ruby</span>
                        Ruby
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>week_number = Time.now.strftime("%V")</code>
                    </div>
                    <div class="code-note">
                        Replace <code>Time.now</code> with <code>Time.local(year, month, day)</code> for other dates.<br>
                        Formats: <code>%U</code> — week starting Sunday · <code>%V</code> — ISO-8601 · <code>%W</code> — week starting Monday.
                    </div>
                </div>

                <!-- Go -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Go</span>
                        Go
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>year, week := time.Now().ISOWeek()</code>
                    </div>
                </div>

                <!-- Bash / Linux -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Bash</span>
                        Linux / Unix Shell (Bash)
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>date +%V</code>
                    </div>
                    <div class="code-note">
                        Returns the ISO-8601 week number. See <code>man date</code> for more formats.
                    </div>
                </div>

                <!-- Lua -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">Lua</span>
                        Lua
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>Current_week = os.date("%V")</code>
                    </div>
                </div>

                <!-- PowerShell -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">PowerShell</span>
                        Windows PowerShell
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>Get-Date -UFormat %V
# or
"{0:d2}" -f ($(Get-Culture).Calendar.GetWeekOfYear(
  $(Get-Date),
  [System.Globalization.CalendarWeekRule]::FirstFourDayWeek,
  [DayOfWeek]::Monday))</code>
                    </div>
                </div>

                <!-- X++ -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">X++</span>
                        X++ (Microsoft Dynamics AX)
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>int weeknum;
weeknum = weekOfYear(today());</code>
                    </div>
                </div>

                <!-- C/AL -->
                <div class="code-block-wrapper">
                    <div class="code-block-title">
                        <span class="lang-badge">C/AL</span>
                        C/AL (Microsoft Dynamics NAV)
                    </div>
                    <div class="code-block">
                        <button class="copy-code-btn" onclick="copyCode(this)">Copy</button>
<code>MESSAGE(FORMAT(CALCDATE('CW', TODAY), 0, '&lt;week&gt;'));</code>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-container"></div>

    <script>
        // ===== ISO 8601 Week Number Utilities =====

        function getISOWeekNumber(date) {
            const target = new Date(date.valueOf());
            const dayNr = (target.getDay() + 6) % 7;
            target.setDate(target.getDate() - dayNr + 3);
            const firstThursday = target.valueOf();
            target.setMonth(0, 1);
            if (target.getDay() !== 4) {
                target.setMonth(0, 1 + ((4 - target.getDay()) + 7) % 7);
            }
            return 1 + Math.ceil((firstThursday - target) / 604800000);
        }

        function getISOWeekYear(date) {
            const target = new Date(date.valueOf());
            target.setDate(target.getDate() + 3 - ((target.getDay() + 6) % 7));
            return target.getFullYear();
        }

        function getMondayOfISOWeek(week, year) {
            const jan4 = new Date(year, 0, 4);
            const dayOfWeek = jan4.getDay() || 7; // Monday=1 ... Sunday=7
            const monday = new Date(jan4);
            monday.setDate(jan4.getDate() - dayOfWeek + 1 + (week - 1) * 7);
            return monday;
        }

        function formatDate(date) {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            return `${months[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;
        }

        function formatDateShort(date) {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            return `${months[date.getMonth()]} ${date.getDate()}`;
        }

        function getDayOfYear(date) {
            const start = new Date(date.getFullYear(), 0, 0);
            const diff = date - start;
            return Math.floor(diff / 86400000);
        }

        function isLeapYear(year) {
            return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
        }

        function getTotalISOWeeks(year) {
            // A year has 53 ISO weeks if Jan 1 is Thursday, or Dec 31 is Thursday
            const jan1 = new Date(year, 0, 1);
            const dec31 = new Date(year, 11, 31);
            return (jan1.getDay() === 4 || dec31.getDay() === 4) ? 53 : 52;
        }

        // ===== Update Current Week Display =====

        function updateCurrentWeek() {
            const now = new Date();
            const weekNum = getISOWeekNumber(now);
            const year = now.getFullYear();

            // Week number
            document.getElementById('currentWeekNumber').textContent = weekNum;

            // Week date range
            const monday = getMondayOfISOWeek(weekNum, getISOWeekYear(now));
            const sunday = new Date(monday);
            sunday.setDate(monday.getDate() + 6);
            document.getElementById('currentWeekRange').textContent =
                `${formatDate(monday)} – ${formatDate(sunday)}`;

            // Day of year
            const dayOfYear = getDayOfYear(now);
            document.getElementById('currentDay').textContent = dayOfYear;

            // Days remaining
            const totalDays = isLeapYear(year) ? 366 : 365;
            document.getElementById('daysRemaining').textContent = totalDays - dayOfYear;

            // Quarter
            const quarter = Math.ceil((now.getMonth() + 1) / 3);
            document.getElementById('currentQuarter').textContent = `Q${quarter}`;

            // Leap year
            document.getElementById('isLeapYear').textContent = isLeapYear(year) ? 'Yes' : 'No';

            // Progress bar
            const progress = ((dayOfYear / totalDays) * 100).toFixed(1);
            document.getElementById('weekProgress').style.width = progress + '%';
            document.getElementById('weekProgressLabel').textContent = `${progress}% of ${year} complete`;
        }

        // ===== Build Week Table =====

        function buildWeekTable() {
            const now = new Date();
            const currentWeek = getISOWeekNumber(now);
            const currentISOYear = getISOWeekYear(now);
            const displayYear = now.getFullYear();
            const totalWeeks = getTotalISOWeeks(displayYear);

            document.getElementById('tableYear').textContent = displayYear;

            const tbody = document.getElementById('weekTableBody');
            tbody.innerHTML = '';

            for (let w = 1; w <= totalWeeks; w++) {
                const monday = getMondayOfISOWeek(w, displayYear);
                const sunday = new Date(monday);
                sunday.setDate(monday.getDate() + 6);

                const tr = document.createElement('tr');
                const isCurrent = (w === currentWeek && displayYear === currentISOYear);

                if (isCurrent) {
                    tr.classList.add('current-week');
                }

                const weekCell = document.createElement('td');
                weekCell.innerHTML = `Week ${w}${isCurrent ? '<span class="current-badge">Now</span>' : ''}`;

                const fromCell = document.createElement('td');
                fromCell.textContent = formatDate(monday);

                const toCell = document.createElement('td');
                toCell.textContent = formatDate(sunday);

                tr.appendChild(weekCell);
                tr.appendChild(fromCell);
                tr.appendChild(toCell);
                tbody.appendChild(tr);
            }

            // // Scroll to current week after build
            // setTimeout(() => {
            //     const currentRow = document.querySelector('.current-week');
            //     if (currentRow) {
            //         currentRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
            //     }
            // }, 500);
        }

        // ===== Copy Code Button =====

        function copyCode(btn) {
            const codeBlock = btn.parentElement;
            const code = codeBlock.querySelector('code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = 'Copied!';
                setTimeout(() => { btn.textContent = 'Copy'; }, 2000);
            }).catch(() => {
                // Fallback
                const ta = document.createElement('textarea');
                ta.value = code;
                document.body.appendChild(ta);
                ta.select();
                document.execCommand('copy');
                document.body.removeChild(ta);
                btn.textContent = 'Copied!';
                setTimeout(() => { btn.textContent = 'Copy'; }, 2000);
            });
        }

        // ===== Load Footer =====

        function loadFooter() {
            fetch('/footer.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('footer-container').innerHTML = html;
                })
                .catch(error => console.log('Footer not found'));
        }

        // ===== Initialize =====

        document.addEventListener('DOMContentLoaded', function () {
            updateCurrentWeek();
            buildWeekTable();
            loadFooter();
        });
        fetch('/info-box.html')
          .then(response => response.text())
          .then(data => {
            document.body.insertAdjacentHTML('beforeend', data);
          });
    </script>
    <script async src="/global.js"></script>
    <script type="application/ld+json">
    [
        {
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "Week Number Calculator",
            "description": "Instantly see the current ISO 8601 week number with a full calendar of all weeks in the year plus programming routines.",
            "url": "https://calculations.tools/week-number",
            "applicationCategory": "UtilityApplication",
            "operatingSystem": "Any",
            "offers": {
                "@type": "Offer",
                "price": "0",
                "priceCurrency": "USD"
            }
        },
        {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [
                {
                    "@type": "Question",
                    "name": "What is the current week number?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "The current ISO 8601 week number is dynamically calculated and displayed at the top of this page. ISO weeks start on Monday and week 1 is the week containing the first Thursday of the year."
                    }
                },
                {
                    "@type": "Question",
                    "name": "How is the ISO 8601 week number calculated?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "ISO 8601 defines the first week of the year as the week containing the first Thursday. Weeks start on Monday. A year can have 52 or 53 weeks."
                    }
                },
                {
                    "@type": "Question",
                    "name": "How do I get the week number in Excel?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Use =ISOWEEKNUM(TODAY()) for the ISO week number. In older versions, use =WEEKNUM(TODAY(),21) where 21 means ISO-8601 (week starting Monday)."
                    }
                }
            ]
        }
    ]
    </script>
</body>
</html>
